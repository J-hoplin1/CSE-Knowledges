네트워크 이론-3장(1) : 네트워크 계층
===
***

- 2계층, 데이터 링크 계층에서는...

    - 이더넷 규칙을 기반으로 데이터를 전송하였다.

    - 동일한 네트워크에 있는 PC로 데이터 전송이 가능하였지만, 다른 네트워크의 PC로 전송하는 것은 불가능하였다.

- 3계층, 네트워크 계층에서는

    - 네트워크간의 통신이 가능하게 해준다.

    - 다른 네트워크로 전송을 하기 위해서는 **'라우터'** 라는 장비가 필요하다.

        - 라우터는 IP(Internet Protocal)주소를 통해서 네트워크를 식별한 후 다른 네트워크로 보낸다.

        - 라우팅 : 목적지 IP주소까지 어떤 경로로 데이터를 전송할지 라우터가 결정하는것을 의미한다.

- IP

    - IP는 Internet Protocal의 약자이다.

    - 네트워크 계층에서 캡슐화를 할떄 **'IP헤더'** 를 붙인다.

        ![img](3/1.png)

    - 이 'IP헤더'에 여러 정보가 담기지만 가장 중요한 두가지를 기억해야한다.

        - 출발 IP주소

        - 도착 IP주소

        - 이 주소들은 모두 각각 32비트의 크기를 가진다.

    - IP헤더가 붙은 데이터는 **'IP패킷'** 이라고 불린다.

        - 복습으로 데이터링크 계층에서는 이더넷헤더와 트레일러가 데이터에 붙은 형태를 '프레임'이라고 불렀다.
    
- IP주소

    - IP주소는 ISP(Internet Service Provider)로 부터 제공받을 수 있으며, 현재 두가지의 버전이 있다.

        - IPv4 : 32비트로 되어있어, 총 43억개만 만들 수 있다.

        - IPv6 : IPv4의 개수가 부족해져, 128비트로 구성된 IPv6를 생성하였다

        - 현재는 이 두개를 혼용하여 사용한다.

        - 밑에서의 설명은 모두 IPv4를 기준으로 설명한다.

- IP종류

    - IP종류에는 두가지가 존재한다.

        1. 공인 IP주소

            - ISP에 의해 제공된다

            - 인터넷에 '직접'연결되는 PC혹은 라우터에만 제공이 된다.

            - 외부에 공개되어있는 IP이기도 하며, 세계에서 유일한 IP주소를 갖는다.
        
        2. 사설 IP주소

            - 회사나 가정에 랜이 있는 컴퓨터에 할당한다.
    
    - 사설 IP할당

        - ISP가 제공하는 공인 IP주소는 개수가 제한적이다.(이유는 IPv4는 개수가 매우 제한적이다.)

        - 공인 IP는 라우터에만 할당하고 랜 안에있는 PC및 다른 기기에는 사설 IP주소를 할당한다.

        - 사설 IP주소를 할당하는 방법에는 크게 두가지가 존재한다

            1. 네트워크 관리자가 자유롭게 할당

            2. 라우터의 'DHCP'기능을 사용하여 자동할당.

                - DHCP란 Dynamic Host Configuration Protocal의 약자로 주소할당 프로토콜이다.
        
        - 공인IP 사설 IP주소 구조는 아래 그림과 같다.

            ![img](3/2.png)
    
    - Ip주소는 32비트이고, 구분하기 쉽게끔 10진수로 표현한다. 그리고 IP주소는 이 32비트를 8비트씩 나누어서 표현한다. 여기서 하나의 8비트를 옥텟(Octet)이라고 부른다. IP주소는 총 4옥텟으로 표현된다

        ![img](3/3.png)
    
    - IP주소에는 두가지의 정보가 들어있다.

        - 네트워크 ID : 어떤 네크워크인지에 대한 정보

        - 호스트 ID : 해당 네트워크의 어떤 기기인지에 대한 정보

- IP클래스

    - IP주소는 네트워크 ID를 크게하거나 호스트  ID를 크게하는 등 크기 조절이 가능하다.여기서 네트워크 크기를 조절할때는 '클래스'라는 것을 기준으로 구분한다.

        |클래스|용도|
        |:------:|:---:|
        |A|대규모 네트워크|
        |B|중형 네트워크|
        |C|소규모 네트워크|
        |D|멀티캐스트|
        |E|연구 및 특수용도|

    - 위 클래스들 중 우리가 흔히 접할 수 있는 클래스는 A,B,C클래스들이다. 각 클래스들에 대해 알아보자.

        - A클래스

            - 처음 8비트가 네트워크 ID, 다음 24비트가 호스트 ID이다.

            - A클래스의 공인 IP범위

                -  1.0.0.0 ~ 9.255.255.255

                - 11.0.0.0 ~ 126.255.255.255
            
            - A클래스의 사설 IP범위

                - 10.0.0.0 ~ 10.255.255.255

        - B클래스

            - 처음 16비트가 네트어크 ID, 다음 16비트가 호스트 ID이다.

            - B클래스의 공인 IP범위

                - 128/0.0.0 ~ 172.15.255.255

                - 172.32.0.0 ~ 191.255.255.255
            
            - B클래스의 사설 IP범위

                - 172.16.0.0 ~ 191.31.255.255
            
        - C클래스

            - 처음 24비트 네트워크 ID, 8비트 호스트 ID

            - C클래스 공인 IP주소 범위

                - 192.0.0.0 ~ 192.167.255.255

                - 192.169.0.0 ~ 223.255.255.255
            
            - C클래스 사설 IP주소 범위

                - 192.168.0.0 ~ 192.168.255.255


    


